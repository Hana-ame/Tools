#!/bin/bash

# 使用 nslookup 查询主机名
result=$(nslookup DESKTOP-LLULJ2Q)

# 提取 Server 行
server=$(echo "$result" | grep 'Server:' | awk '{print $2}')

# 打印提取的服务器地址
echo "Server Address: $server"




# export HTTP_PROXY=http://localhost:10809
# export http_proxy=http://localhost:10809
# export HTTPS_PROXY=http://localhost:10809
# export https_proxy=http://localhost:10809
# export SOCKS_PROXY=localhost:10808
# export socks_proxy=localhost:10808
# git config --global http.proxy http://localhost:10809
# npm config set proxy http://localhost:10809
# npm config set https-proxy http://localhost:10809

export HTTP_PROXY=http://$server:10809
export http_proxy=http://$server:10809
export HTTPS_PROXY=http://$server:10809
export https_proxy=http://$server:10809
export SOCKS_PROXY=$server:10808
export socks_proxy=$server:10808
git config --global http.proxy http://$server:10809
npm config set proxy http://$server:10809
npm config set https-proxy http://$server:10809

